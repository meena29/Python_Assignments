nfvo:nfvo nsd ALL_CSR_DualDC
 designer              Test
 version               1.0
 vnfd CSR_A
  connection-point downstream
   virtual-link        CSR_WAF
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point downstream
   virtual-link        CSR_WAF
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 vnfd LB_A
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point upstream
   virtual-link        WAF_LB_A
   ip-sequence         2
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd LB_B
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point upstream
   virtual-link        WAF_LB_B
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 vnfd WAF_A
  connection-point downstream
   virtual-link        WAF_LB_A
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        WAF_Peer
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        CSR_WAF
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd WAF_B
  connection-point downstream
   virtual-link        WAF_LB_B
   ip-sequence         1
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        WAF_Peer
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        CSR_WAF
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 service-access-point ext
  description    "Connection between ASR A and SW B - South"
  layer-protocol IPv4
  virtual-link   Management
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR vitual devices"
  layer-protocol IPv4
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_WAF
  description        "Connection between the upper layer CSR with WAF"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link FW_CSR
  description        "Connection between the external FW context to the upper layer CSR vitual devices in EXTRANET"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     20
 !
 virtual-link WAF_LB_A
  description        "Connection between WAF and AVI Load Balance for Side A"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link WAF_LB_B
  description        "Connection between WAF and AVI Load Balance for Side B"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link WAF_Peer
  description        "Connection between WAF A and WAF B"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg false
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 dc-mode               Single
 skip-day1-vnfr-config false
!
nfvo:nfvo nsd AVITest
 designer "Cisco AS Team - Test"
 version  0.1
 vnfd LB_A
  connection-point mgmt
   virtual-link Management
  !
  connection-point upstream
   virtual-link LB_None
  !
  security-zone External
  role          Primary
 !
 service-access-point ext
  description    "Connection between the CSR and the APP Server"
  layer-protocol IPv4
  virtual-link   LB_None
 !
 virtual-link LB_None
  description    "Connection between the CSR and the APP Server"
  layer-protocol IPv4
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
 !
!
nfvo:nfvo nsd AWS_DualDC
 designer "Cisco AS"
 version  0.1
 virtual-link ASR_A_SW_A
  description    "Connection between ASR A and SW A"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_A_SW_B
  description    "Connection between ASR A and SW B - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR virtual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_Peer_Internal
  description    "Connection between the upper layer CSR virtual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link FW_CSR
  description        "Connection between the external FW context to the upper layer CSR virtual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           false
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_CSR_Internal
  description        "Connection between the internal FW context to the internal CSR virtual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link FW_Internal_Management
  description    "Management network for lower layer ASA firewall"
  layer-protocol IPv4
  cidr           24
  pool-name      mgmt_fw_lower
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link FW_Management
  description    "Management network for upper layer ASA firewall"
  layer-protocol IPv4
  cidr           24
  pool-name      mgmt_fw_upper
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR virtual devices"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     20
 !
 virtual-link Peer_A_DC
  description    "Connection between the upper layer CSR to PeerDC CSR"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
  is-vnf-network false
 !
 virtual-link Peer_B_DC
  description    "Connection between the upper layer CSR to PeerDC CSR"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
  is-vnf-network false
 !
 virtual-link Peer_IA_DC
  description    "Connection between the upper layer CSR to PeerDC CSR"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
  is-vnf-network false
 !
 virtual-link Peer_IB_DC
  description    "Connection between the upper layer CSR to PeerDC CSR"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
  is-vnf-network false
 !
 virtual-link SW_FW
  description    "Connection between the external switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link SW_FW_Internal
  description    "Connection between the internal switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link VPN_CSR
  description        "Connection between the CSR Upper layer and VPN for side A"
  layer-protocol     IPv4
  cidr               26
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       62
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link VPN_CSR_Internal
  description        "Connection between the CSR Lower layer and VPN Side A"
  layer-protocol     IPv4
  cidr               26
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       62
  need-vrf           false
  is-vnf-network     true
 !
 vnfd CSR_A
  connection-point downstream
   virtual-link        VPN_CSR
   ip-sequence         61
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_A_DC
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point downstream
   virtual-link        VPN_CSR
   ip-sequence         60
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_B_DC
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  security-zone External
  role          Secondary
 !
 vnfd CSR_IA
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_IA_DC
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        VPN_CSR_Internal
   ip-sequence         61
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  security-zone Internal
  role          Primary
 !
 vnfd CSR_IB
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_IB_DC
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        VPN_CSR_Internal
   ip-sequence         60
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  security-zone Internal
  role          Secondary
 !
 service-access-point FW_CSR_Internal
  description    "Connection between ASR A and SW A"
  layer-protocol IPv4
  virtual-link   FW_CSR_Internal
 !
 dc-mode  Dual
 nfd ASR_A
  device-alias PRD-E-ASR-001
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/2
   ip-sequence  0
   network-name ASR_A_SW_B
  !
 !
 nfd FW
  device-alias   PRD-O-FW-EXTRANET-001
  add-new-device true
  equipment-code fa
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Management
  !
  interfaces 1
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         FW_CSR
  !
  interfaces 3
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         SW_FW
  !
 !
 nfd FW_Internal
  device-alias   PRD-I-FW-EXTRANET-001
  add-new-device true
  function-code  eci
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Internal_Management
  !
  interfaces 1
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         FW_CSR_Internal
  !
  interfaces 3
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         SW_FW_Internal
  !
 !
 nfd SW_A
  device-alias PRD-E-SW-001
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/9
   ip-sequence  1
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         south
   if-type      SVI
   name         1/3/1/1
   ip-sequence  1
   network-name SW_FW
  !
 !
 nfd SW_A_Internal
  device-alias PRD-C-SW-001
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  1
   network-name SW_FW_Internal
  !
 !
 nfd SW_B
  device-alias PRD-E-SW-101
  interfaces 0
   role         crossing
   if-type      Ethernet
   name         1/9
   ip-sequence  1
   network-name ASR_A_SW_B
  !
  interfaces 1
   role         south
   if-type      SVI
   name         1/3/1/1
   ip-sequence  2
   network-name SW_FW
  !
 !
 nfd SW_B_Internal
  device-alias PRD-C-SW-101
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  2
   network-name SW_FW_Internal
  !
 !
!
nfvo:nfvo nsd AWS_SingleDC
 designer "Cisco AS"
 version  0.1
 vnfd CSR_A
  connection-point downstream
   virtual-link VPN_CSR
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link CSR_Peer
  !
  connection-point upstream
   virtual-link FW_CSR
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point downstream
   virtual-link VPN_CSR
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link CSR_Peer
  !
  connection-point upstream
   virtual-link FW_CSR
  !
  security-zone External
  role          Secondary
 !
 vnfd CSR_IA
  connection-point downstream
   virtual-link FW_CSR_Internal
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link CSR_Peer_Internal
  !
  connection-point upstream
   virtual-link VPN_CSR_Internal
  !
  security-zone Internal
  role          Primary
 !
 vnfd CSR_IB
  connection-point downstream
   virtual-link FW_CSR_Internal
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link CSR_Peer_Internal
  !
  connection-point upstream
   virtual-link VPN_CSR_Internal
  !
  security-zone Internal
  role          Secondary
 !
 service-access-point FW_CSR_Internal
  description    "Connection between ASR A and SW A"
  layer-protocol IPv4
  virtual-link   FW_CSR_Internal
 !
 virtual-link ASR_A_SW_A
  description    "Connection between ASR A and SW A"
  layer-protocol IPv4
 !
 virtual-link ASR_A_SW_B
  description    "Connection between ASR A and SW B - Crossing"
  layer-protocol IPv4
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR virtual devices"
  layer-protocol IPv4
 !
 virtual-link CSR_Peer_Internal
  description    "Connection between the upper layer CSR virtual devices"
  layer-protocol IPv4
 !
 virtual-link FW_CSR
  description    "Connection between the external FW context to the upper layer CSR virtual devices"
  layer-protocol IPv4
 !
 virtual-link FW_CSR_Internal
  description    "Connection between the internal FW context to the internal CSR virtual devices"
  layer-protocol IPv4
 !
 virtual-link FW_Internal_Management
  description    "Management network for lower layer ASA firewall"
  layer-protocol IPv4
 !
 virtual-link FW_Management
  description    "Management network for upper layer ASA firewall"
  layer-protocol IPv4
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR virtual devices"
  layer-protocol IPv4
 !
 virtual-link SW_FW
  description    "Connection between the external switch with the upper FW context"
  layer-protocol IPv4
 !
 virtual-link SW_FW_Internal
  description    "Connection between the internal switch with the upper FW context"
  layer-protocol IPv4
 !
 virtual-link VPN_CSR
  description    "Connection between the CSR Upper layer and VPN for side A"
  layer-protocol IPv4
 !
 virtual-link VPN_CSR_Internal
  description    "Connection between the CSR Lower layer and VPN Side A"
  layer-protocol IPv4
 !
!
nfvo:nfvo nsd BARE_METAL_DualDC
 designer              "Cisco AS Team"
 version               1.0
 vnfd CSR_A
  connection-point downstream
   virtual-link        CSR_EDGE
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point peerdc
   virtual-link        Peer_A_DC
   ip-sequence         0
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        5
  !
  connection-point upstream
   virtual-link        FW_INTERNET_CSR
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point upstream_ext
   virtual-link        FW_CSR
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point downstream
   virtual-link        CSR_EDGE
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point peerdc
   virtual-link        Peer_B_DC
   ip-sequence         0
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        5
  !
  connection-point upstream
   virtual-link        FW_INTERNET_CSR
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point upstream_ext
   virtual-link        FW_CSR
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Secondary
 !
 vnfd CSR_IA
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_A_Internal_DC
   ip-sequence         0
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        5
  !
  connection-point upstream
   virtual-link        EDGE_CSR_Internal
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone Internal
  role          Primary
 !
 vnfd CSR_IB
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_B_Internal_DC
   ip-sequence         0
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        5
  !
  connection-point upstream
   virtual-link        EDGE_CSR_Internal
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone Internal
  role          Secondary
 !
 service-access-point ext
  description    "This is a dummy SAP for fulfilling the mandatory field in NFVO package"
  layer-protocol IPv4
  virtual-link   ASR_A_SW_A
 !
 virtual-link ASR_A_SW_A
  description    "Connection between ASR A and SW A - South (internet branch)"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_A_SW_B
  description    "Connection between ASR A and SW B - Crossing (internet branch)"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_B_SW_A
  description    "Connection between ASR B and SW A - Crossing (internet branch)"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_B_SW_B
  description    "Connection between ASR B and SW B - South (internet branch)"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_EXT_A_SW_EXT_A
  description    "Connection between ASR A and SW A - South (extranet branch)"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_EXT_A_SW_EXT_B
  description    "Connection between ASR A and SW B - Crossing (extranet branch)"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_EXT_B_SW_EXT_A
  description    "Connection between ASR B and SW A - Crossing (extranet branch)"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_EXT_B_SW_EXT_B
  description    "Connection between ASR B and SW B - South (extranet branch)"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link CSR_EDGE
  description        "Connection between the upper layer CSR virtual devices and the Edge Server"
  layer-protocol     IPv4
  cidr               28
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR virtual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_Peer_Internal
  description    "Connection between the lower layer CSR virtual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link EDGE_CSR_Internal
  description        "Connection between the Edge Server and Lower CSR virtual devices"
  layer-protocol     IPv4
  cidr               28
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link EDGE_HSM
  description        "Connection between the Edge Server and HSM"
  layer-protocol     IPv4
  cidr               23
  pool-name          hsm
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  reserve-per-ip     true
  is-vnf-network     false
 !
 virtual-link FW_CSR
  description        "Connection between the external FW context to the upper layer CSR virtual devices (extranet branch)"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           false
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_CSR_Internal
  description        "Connection between the internal FW context to the internal CSR virtual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link FW_EXT_Management
  description    "Management network for upper layer ASA firewall management (ext)"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_upper
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link FW_INTERNET_CSR
  description        "Connection between the external FW context to the upper layer CSR virtual devices (internet branch)"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           false
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_Internal_Management
  description    "Management network for lower layer ASA firewall"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_lower
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     17
 !
 virtual-link FW_Management
  description    "Management network for upper layer ASA firewall management"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_upper
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR virtual devices"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  is-vnf-network true
  fixed-vlan     20
 !
 virtual-link ManagementSplunk
  description    "Connection to the Splunk"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  is-vnf-network true
  fixed-vlan     24
 !
 virtual-link Peer_A_DC
  description    "Connection between the upper layer CSR A to PeerDC side CSR A"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_A_Internal_DC
  description    "Connection between the lower layer CSR A to PeerDC side CSR A"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_B_DC
  description    "Connection between the upper layer CSR B to PeerDC side CSR B"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_B_Internal_DC
  description    "Connection between the lower layer CSR B to PeerDC side CSR B"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link SW_FW
  description    "Connection between the external switch with the upper FW context (internet branch)"
  layer-protocol IPv4
  cidr           29
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link SW_FW_EXT
  description    "Connection between the external switch with the upper FW context (extranet branch)"
  layer-protocol IPv4
  cidr           29
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link SW_FW_Internal
  description    "Connection between the internal switch with the inner FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
  is-vnf-network true
 !
 dc-mode               Single
 skip-day1-vnfr-config false
 nfd ASR_A
  device-alias PRD-E-ASR-001
  device-type  ASR
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_A_SW_B
  !
 !
 nfd ASR_B
  device-alias PRD-E-ASR-101
  device-type  ASR
  interfaces 0
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_B_SW_A
  !
  interfaces 1
   role         south
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_B_SW_B
  !
 !
 nfd ASR_EXT_A
  device-alias PRD-E-ASR-002
  device-type  ASR
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_EXT_A_SW_EXT_A
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_EXT_A_SW_EXT_B
  !
 !
 nfd ASR_EXT_B
  device-alias PRD-E-ASR-102
  device-type  ASR
  interfaces 0
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_EXT_B_SW_EXT_A
  !
  interfaces 1
   role         south
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_EXT_B_SW_EXT_B
  !
 !
 nfd FW_EXT_External
  device-alias   PRD-O-FW-EXTRANET-001
  add-new-device true
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_EXT_Management
  !
  interfaces 1
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         FW_CSR
  !
  interfaces 3
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         SW_FW_EXT
  !
 !
 nfd FW_External
  device-alias   PRD-O-FW-INTERNET-001
  add-new-device true
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Management
  !
  interfaces 1
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         FW_INTERNET_CSR
  !
  interfaces 3
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         SW_FW
  !
 !
 nfd FW_Internal
  device-alias   PRD-I-FW-INTERNET-001
  add-new-device true
  function-code  eci
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Internal_Management
  !
  interfaces 1
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         FW_CSR_Internal
  !
  interfaces 3
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         SW_FW_Internal
  !
 !
 nfd SW_A
  device-alias PRD-E-SW-001
  device-type  Nexus
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/9
   ip-sequence  1
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/10
   ip-sequence  1
   network-name ASR_B_SW_A
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  1
   network-name SW_FW
  !
 !
 nfd SW_B
  device-alias PRD-E-SW-101
  device-type  Nexus
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/10
   ip-sequence  1
   network-name ASR_B_SW_B
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/9
   ip-sequence  1
   network-name ASR_A_SW_B
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  2
   network-name SW_FW
  !
 !
 nfd SW_EXT_A
  device-alias PRD-E-SW-001
  device-type  Nexus
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/1
   ip-sequence  1
   network-name ASR_EXT_A_SW_EXT_A
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/2
   ip-sequence  1
   network-name ASR_EXT_B_SW_EXT_A
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  1
   network-name SW_FW_EXT
  !
 !
 nfd SW_EXT_B
  device-alias PRD-E-SW-101
  device-type  Nexus
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/2
   ip-sequence  1
   network-name ASR_EXT_B_SW_EXT_B
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/1
   ip-sequence  1
   network-name ASR_EXT_A_SW_EXT_B
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  2
   network-name SW_FW_EXT
  !
 !
 nfd SW_Internal_A
  device-alias PRD-C-SW-001
  device-type  Nexus
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  1
   network-name SW_FW_Internal
  !
 !
 nfd SW_Internal_B
  device-alias PRD-C-SW-101
  device-type  Nexus
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  2
   network-name SW_FW_Internal
  !
 !
!
nfvo:nfvo nsd BARE_METAL_SingleDC
 designer              "Cisco AS Team"
 version               1.0
 vnfd CSR_A
  connection-point downstream
   virtual-link        CSR_EDGE
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point upstream
   virtual-link        FW_INTERNET_CSR
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point upstream_ext
   virtual-link        FW_CSR
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point downstream
   virtual-link        CSR_EDGE
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point upstream
   virtual-link        FW_INTERNET_CSR
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point upstream_ext
   virtual-link        FW_CSR
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Secondary
 !
 vnfd CSR_IA
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        EDGE_CSR_Internal
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone Internal
  role          Primary
 !
 vnfd CSR_IB
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        EDGE_CSR_Internal
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone Internal
  role          Secondary
 !
 service-access-point ext
  description    "This is a dummy SAP for fulfilling the mandatory field in NFVO package"
  layer-protocol IPv4
  virtual-link   ASR_A_SW_A
 !
 virtual-link ASR_A_SW_A
  description    "Connection between ASR A and SW A - South (internet branch)"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_A_SW_B
  description    "Connection between ASR A and SW B - Crossing (internet branch)"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_B_SW_A
  description    "Connection between ASR B and SW A - Crossing (internet branch)"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_B_SW_B
  description    "Connection between ASR B and SW B - South (internet branch)"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_EXT_A_SW_EXT_A
  description    "Connection between ASR A and SW A - South (extranet branch)"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_EXT_A_SW_EXT_B
  description    "Connection between ASR A and SW B - Crossing (extranet branch)"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_EXT_B_SW_EXT_A
  description    "Connection between ASR B and SW A - Crossing (extranet branch)"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_EXT_B_SW_EXT_B
  description    "Connection between ASR B and SW B - South (extranet branch)"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link CSR_EDGE
  description        "Connection between the upper layer CSR virtual devices and the Edge Server"
  layer-protocol     IPv4
  cidr               28
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR virtual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_Peer_Internal
  description    "Connection between the lower layer CSR virtual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link EDGE_CSR_Internal
  description        "Connection between the Edge Server and Lower CSR virtual devices"
  layer-protocol     IPv4
  cidr               28
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link EDGE_HSM
  description        "Connection between the Edge Server and HSM"
  layer-protocol     IPv4
  cidr               23
  pool-name          hsm
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  reserve-per-ip     true
  is-vnf-network     false
 !
 virtual-link FW_CSR
  description        "Connection between the external FW context to the upper layer CSR virtual devices (extranet branch)"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           false
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_CSR_Internal
  description        "Connection between the internal FW context to the internal CSR virtual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link FW_EXT_Management
  description    "Management network for upper layer ASA firewall management (ext)"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_upper
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link FW_INTERNET_CSR
  description        "Connection between the external FW context to the upper layer CSR virtual devices (internet branch)"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           false
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_Internal_Management
  description    "Management network for lower layer ASA firewall"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_lower
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     17
 !
 virtual-link FW_Management
  description    "Management network for upper layer ASA firewall management"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_upper
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR virtual devices"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  is-vnf-network true
  fixed-vlan     20
 !
 virtual-link ManagementSplunk
  description    "Connection to the Splunk"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  is-vnf-network true
  fixed-vlan     24
 !
 virtual-link SW_FW
  description    "Connection between the external switch with the upper FW context (internet branch)"
  layer-protocol IPv4
  cidr           29
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link SW_FW_EXT
  description    "Connection between the external switch with the upper FW context (extranet branch)"
  layer-protocol IPv4
  cidr           29
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link SW_FW_Internal
  description    "Connection between the internal switch with the inner FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
  is-vnf-network true
 !
 dc-mode               Single
 skip-day1-vnfr-config false
 nfd ASR_A
  device-alias PRD-E-ASR-001
  device-type  ASR
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_A_SW_B
  !
 !
 nfd ASR_B
  device-alias PRD-E-ASR-101
  device-type  ASR
  interfaces 0
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_B_SW_A
  !
  interfaces 1
   role         south
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_B_SW_B
  !
 !
 nfd ASR_EXT_A
  device-alias PRD-E-ASR-002
  device-type  ASR
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_EXT_A_SW_EXT_A
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_EXT_A_SW_EXT_B
  !
 !
 nfd ASR_EXT_B
  device-alias PRD-E-ASR-102
  device-type  ASR
  interfaces 0
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_EXT_B_SW_EXT_A
  !
  interfaces 1
   role         south
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_EXT_B_SW_EXT_B
  !
 !
 nfd FW_EXT_External
  device-alias   PRD-O-FW-EXTRANET-001
  add-new-device true
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_EXT_Management
  !
  interfaces 1
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         FW_CSR
  !
  interfaces 3
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         SW_FW_EXT
  !
 !
 nfd FW_External
  device-alias   PRD-O-FW-INTERNET-001
  add-new-device true
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Management
  !
  interfaces 1
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         FW_INTERNET_CSR
  !
  interfaces 3
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         SW_FW
  !
 !
 nfd FW_Internal
  device-alias   PRD-I-FW-INTERNET-001
  add-new-device true
  function-code  eci
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Internal_Management
  !
  interfaces 1
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         FW_CSR_Internal
  !
  interfaces 3
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         SW_FW_Internal
  !
 !
 nfd SW_A
  device-alias PRD-E-SW-001
  device-type  Nexus
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/9
   ip-sequence  1
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/10
   ip-sequence  1
   network-name ASR_B_SW_A
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  1
   network-name SW_FW
  !
 !
 nfd SW_B
  device-alias PRD-E-SW-101
  device-type  Nexus
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/10
   ip-sequence  1
   network-name ASR_B_SW_B
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/9
   ip-sequence  1
   network-name ASR_A_SW_B
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  2
   network-name SW_FW
  !
 !
 nfd SW_EXT_A
  device-alias PRD-E-SW-001
  device-type  Nexus
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/1
   ip-sequence  1
   network-name ASR_EXT_A_SW_EXT_A
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/2
   ip-sequence  1
   network-name ASR_EXT_B_SW_EXT_A
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  1
   network-name SW_FW_EXT
  !
 !
 nfd SW_EXT_B
  device-alias PRD-E-SW-101
  device-type  Nexus
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/2
   ip-sequence  1
   network-name ASR_EXT_B_SW_EXT_B
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/1
   ip-sequence  1
   network-name ASR_EXT_A_SW_EXT_B
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  2
   network-name SW_FW_EXT
  !
 !
 nfd SW_Internal_A
  device-alias PRD-C-SW-001
  device-type  Nexus
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  1
   network-name SW_FW_Internal
  !
 !
 nfd SW_Internal_B
  device-alias PRD-C-SW-101
  device-type  Nexus
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  2
   network-name SW_FW_Internal
  !
 !
!
nfvo:nfvo nsd EWS_Dual_to_SingleDC
 designer              "Cisco AS Team"
 version               1.0
 vnfd CSR_A
  connection-point downstream
   virtual-link        CSR_WAF
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_A_DC
   ip-sequence         0
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point downstream
   virtual-link        CSR_WAF
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_B_DC
   ip-sequence         0
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 vnfd CSR_IA
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_A_Internal_DC
   ip-sequence         0
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        LB_CSR_Internal
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone Internal
  role          Primary
 !
 vnfd CSR_IB
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_B_Internal_DC
   ip-sequence         0
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        LB_CSR_Internal
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone Internal
  role          Secondary
 !
 vnfd LB_A
  connection-point downstream
   virtual-link        LB_CSR_Internal
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point upstream
   virtual-link        WAF_LB_A
   ip-sequence         2
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd LB_B
  connection-point downstream
   virtual-link        LB_CSR_Internal
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point upstream
   virtual-link        WAF_LB_B
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 vnfd WAF_A
  connection-point downstream
   virtual-link        WAF_LB_A
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point hsm
   virtual-link        WAF_HSM
   ip-sequence         -1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        WAF_Peer
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        CSR_WAF
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd WAF_B
  connection-point downstream
   virtual-link        WAF_LB_B
   ip-sequence         1
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point hsm
   virtual-link        WAF_HSM
   ip-sequence         -1
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        WAF_Peer
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        CSR_WAF
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 service-access-point ext
  description    "Connection between ASR A and SW B - South"
  layer-protocol IPv4
  virtual-link   ASR_A_SW_A
 !
 virtual-link ASR_A_SW_A
  description    "Connection between ASR A and SW B - South"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_A_SW_B
  description    "Connection between ASR A and SW B - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_Peer_Internal
  description    "Connection between the lower layer CSR vitual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_WAF
  description        "Connection between the upper layer CSR with WAF"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link FW_CSR
  description        "Connection between the external FW context to the upper layer CSR vitual devices in EXTRANET"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_CSR_Internal
  description        "Connection between the internal FW context to the internal CSR virtual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link FW_INTERNET_CSR
  description        "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_Intenal_Management
  description    "Management network for lower layer ASA firewall"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_lower
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     17
 !
 virtual-link FW_Management
  description    "Management network for upper layer ASA firewall management"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_upper
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link LB_CSR_Internal
  description        "Connection between the AVI LB and Lower CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           23
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
 !
 virtual-link Peer_A_DC
  description    "Connection between the CSR A to PeerDC CSR side A"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_A_Internal_DC
  description    "Connection between the lower layer CSR A to PeerDC CSR side A"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_B_DC
  description    "Connection between the upper layer CSR B to PeerDC CSR side B"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_B_Internal_DC
  description    "Connection between the lower layer CSR B to PeerDC CSR side B"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link SW_FW
  description    "Connection between the external switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link SW_FW_Internal
  description    "Connection between the internal switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link WAF_HSM
  description        "Connection between WAF and AVI Load Balance"
  layer-protocol     IPv4
  cidr               23
  pool-name          hsm
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  reserve-per-ip     true
  is-vnf-network     false
 !
 virtual-link WAF_LB_A
  description        "Connection between WAF and AVI Load Balance for Side A"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link WAF_LB_B
  description        "Connection between WAF and AVI Load Balance for Side B"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link WAF_Peer
  description        "Connection between WAF A and WAF B"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg false
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 dc-mode               Single
 skip-day1-vnfr-config false
 nfd ASR_A
  device-alias PRD-E-ASR-002
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_A_SW_B
  !
 !
 nfd FW_External
  device-alias   PRD-O-FW-EXTRANET-001
  add-new-device true
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Management
  !
  interfaces 1
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         FW_CSR
  !
  interfaces 3
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         SW_FW
  !
 !
 nfd FW_Internal
  device-alias   PRD-I-FW-EXTRANET-001
  add-new-device true
  function-code  eci
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Intenal_Management
  !
  interfaces 1
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         FW_CSR_Internal
  !
  interfaces 3
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         SW_FW_Internal
  !
 !
 nfd SW_A
  device-alias PRD-E-SW-001
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/1
   ip-sequence  1
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         south
   if-type      SVI
   name         1/3/1/1
   ip-sequence  1
   network-name SW_FW
  !
 !
 nfd SW_A_Internal
  device-alias PRD-C-SW-001
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  1
   network-name SW_FW_Internal
  !
 !
 nfd SW_B
  device-alias PRD-E-SW-101
  interfaces 0
   role         crossing
   if-type      Ethernet
   name         1/1
   ip-sequence  1
   network-name ASR_A_SW_B
  !
  interfaces 1
   role         south
   if-type      SVI
   name         1/3/1/1
   ip-sequence  2
   network-name SW_FW
  !
 !
 nfd SW_B_Internal
  device-alias PRD-C-SW-101
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  2
   network-name SW_FW_Internal
  !
 !
!
nfvo:nfvo nsd EWS_SSL_DualDC
 designer              "Cisco AS Team"
 version               1.0
 vnfd CSR_A
  connection-point downstream
   virtual-link        CSR_WAF
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_A_DC
   ip-sequence         0
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point downstream
   virtual-link        CSR_WAF
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_B_DC
   ip-sequence         0
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 vnfd CSR_IA
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_A_Internal_DC
   ip-sequence         0
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        LB_CSR_Internal
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone Internal
  role          Primary
 !
 vnfd CSR_IB
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_B_Internal_DC
   ip-sequence         0
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        LB_CSR_Internal
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone Internal
  role          Secondary
 !
 vnfd LB_A
  connection-point downstream
   virtual-link        LB_CSR_Internal
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point upstream
   virtual-link        WAF_LB_A
   ip-sequence         2
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd LB_B
  connection-point downstream
   virtual-link        LB_CSR_Internal
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point upstream
   virtual-link        WAF_LB_B
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 vnfd WAF_A
  connection-point downstream
   virtual-link        WAF_LB_A
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point hsm
   virtual-link        WAF_HSM
   ip-sequence         -1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        WAF_Peer
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        CSR_WAF
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd WAF_B
  connection-point downstream
   virtual-link        WAF_LB_B
   ip-sequence         1
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point hsm
   virtual-link        WAF_HSM
   ip-sequence         -1
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        WAF_Peer
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        CSR_WAF
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 service-access-point ext
  description    "Connection between ASR A and SW B - South"
  layer-protocol IPv4
  virtual-link   ASR_A_SW_A
 !
 virtual-link ASR_A_SW_A
  description    "Connection between ASR A and SW B - South"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_A_SW_B
  description    "Connection between ASR A and SW B - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_Peer_Internal
  description    "Connection between the lower layer CSR vitual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_WAF
  description        "Connection between the upper layer CSR with WAF"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link FW_CSR
  description        "Connection between the external FW context to the upper layer CSR vitual devices in EXTRANET"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_CSR_Internal
  description        "Connection between the internal FW context to the internal CSR virtual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link FW_INTERNET_CSR
  description        "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_Internal_Management
  description    "Management network for lower layer ASA firewall"
  layer-protocol IPv4
  cidr           24
  pool-name      mgmt_fw_lower
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link FW_Management
  description    "Management network for upper layer ASA firewall"
  layer-protocol IPv4
  cidr           24
  pool-name      mgmt_fw_upper
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link LB_CSR_Internal
  description        "Connection between the AVI LB and Lower CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     20
 !
 virtual-link Peer_A_DC
  description    "Connection between the CSR A to PeerDC CSR side A"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_A_Internal_DC
  description    "Connection between the lower layer CSR A to PeerDC CSR side A"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_B_DC
  description    "Connection between the upper layer CSR B to PeerDC CSR side B"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_B_Internal_DC
  description    "Connection between the lower layer CSR B to PeerDC CSR side B"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link SW_FW
  description    "Connection between the external switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link SW_FW_Internal
  description    "Connection between the internal switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link WAF_HSM
  description        "Connection between WAF and AVI Load Balance"
  layer-protocol     IPv4
  cidr               23
  pool-name          hsm
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  reserve-per-ip     true
  is-vnf-network     false
 !
 virtual-link WAF_LB_A
  description        "Connection between WAF and AVI Load Balance for Side A"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link WAF_LB_B
  description        "Connection between WAF and AVI Load Balance for Side B"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link WAF_Peer
  description        "Connection between WAF A and WAF B"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg false
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 dc-mode               Dual
 skip-day1-vnfr-config false
 nfd ASR_A
  device-alias PRD-E-ASR-002
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_A_SW_B
  !
 !
 nfd FW_External
  device-alias   PRD-O-FW-EXTRANET-001
  add-new-device true
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Management
  !
  interfaces 1
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         FW_CSR
  !
  interfaces 3
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         SW_FW
  !
 !
 nfd FW_Internal
  device-alias   PRD-I-FW-EXTRANET-001
  add-new-device true
  function-code  eci
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Internal_Management
  !
  interfaces 1
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         FW_CSR_Internal
  !
  interfaces 3
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         SW_FW_Internal
  !
 !
 nfd SW_A
  device-alias PRD-E-SW-001
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/1
   ip-sequence  1
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         south
   if-type      SVI
   name         1/3/1/1
   ip-sequence  1
   network-name SW_FW
  !
 !
 nfd SW_A_Internal
  device-alias PRD-C-SW-001
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  1
   network-name SW_FW_Internal
  !
 !
 nfd SW_B
  device-alias PRD-E-SW-101
  interfaces 0
   role         crossing
   if-type      Ethernet
   name         1/1
   ip-sequence  1
   network-name ASR_A_SW_B
  !
  interfaces 1
   role         south
   if-type      SVI
   name         1/3/1/1
   ip-sequence  2
   network-name SW_FW
  !
 !
 nfd SW_B_Internal
  device-alias PRD-C-SW-101
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  2
   network-name SW_FW_Internal
  !
 !
!
nfvo:nfvo nsd EWS_SSL_SingleDC
 designer              "Cisco AS Team"
 version               1.0
 vnfd CSR_A
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link CSR_Peer
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link CSR_Peer
  !
  security-zone External
  role          Secondary
 !
 vnfd LB_A
  connection-point mgmt
   virtual-link Management
  !
  security-zone External
  role          Primary
 !
 vnfd LB_B
  connection-point mgmt
   virtual-link Management
  !
  security-zone External
  role          Secondary
 !
 service-access-point dummy
  description    "Access point for connection of VNFDs to the outside network"
  layer-protocol IPv4
  virtual-link   Management
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_Peer_Internal
  description    "Connection between the lower layer CSR vitual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           23
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
 !
 dc-mode               Single
 skip-day1-vnfr-config false
!
nfvo:nfvo nsd F5_LB_DualDC
 designer              "Cisco AS Team"
 version               1.0
 vnfd CSR_A
  connection-point downstream
   virtual-link        CSR_LBF5
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_A_DC
   ip-sequence         0
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        FW_INTERNET_CSR
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point downstream
   virtual-link        CSR_LBF5
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_B_DC
   ip-sequence         0
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        FW_INTERNET_CSR
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 vnfd CSR_IA
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_A_Internal_DC
   ip-sequence         0
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        LBF5_CSR_Internal
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone Internal
  role          Primary
 !
 vnfd CSR_IB
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_B_Internal_DC
   ip-sequence         0
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        LBF5_CSR_Internal
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone Internal
  role          Secondary
 !
 vnfd LBF5_A
  connection-point downstream
   virtual-link        LBF5_CSR_Internal
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point hsm
   virtual-link        LBF5_HSM
   ip-sequence         -1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        5
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        LBF5_Peer
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point splunk
   virtual-link        ManagementSplunk
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        1
  !
  connection-point upstream
   virtual-link        CSR_LBF5
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Primary
 !
 vnfd LBF5_B
  connection-point downstream
   virtual-link        LBF5_CSR_Internal
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point hsm
   virtual-link        LBF5_HSM
   ip-sequence         -1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        5
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        LBF5_Peer
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point splunk
   virtual-link        ManagementSplunk
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        1
  !
  connection-point upstream
   virtual-link        CSR_LBF5
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Secondary
 !
 service-access-point ext
  description    "This is a dummy SAP for fulfilling the mandatory field in NFVO package"
  layer-protocol IPv4
  virtual-link   ASR_A_SW_A
 !
 virtual-link ASR_A_SW_A
  description    "Connection between ASR A and SW A - South"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_A_SW_B
  description    "Connection between ASR A and SW B - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_B_SW_A
  description    "Connection between ASR B and SW A - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_B_SW_B
  description    "Connection between ASR B and SW B - South"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link CSR_LBF5
  description        "Connection between the upper layer CSR virtual devices and the F5 Load Balancers"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR virtual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_Peer_Internal
  description    "Connection between the lower layer CSR virtual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link FW_CSR_Internal
  description        "Connection between the internal FW context to the internal CSR virtual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link FW_INTERNET_CSR
  description        "Connection between the external FW context to the upper layer CSR virtual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           false
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_Internal_Management
  description    "Management network for lower layer ASA firewall"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_lower
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     17
 !
 virtual-link FW_Management
  description    "Management network for upper layer ASA firewall management"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_upper
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link LBF5_CSR_Internal
  description        "Connection between the AVI LB and Lower CSR virtual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link LBF5_HSM
  description        "Connection between the F5 LB and HSM"
  layer-protocol     IPv4
  cidr               23
  pool-name          hsm
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  reserve-per-ip     true
  is-vnf-network     false
 !
 virtual-link LBF5_Peer
  description    "Connection between the F5 LB peers"
  layer-protocol IPv4
  cidr           30
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR virtual devices"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     20
 !
 virtual-link ManagementSplunk
  description    "Connection to the Splunk"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     24
 !
 virtual-link Peer_A_DC
  description    "Connection between the upper layer CSR A to PeerDC side CSR A"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_A_Internal_DC
  description    "Connection between the lower layer CSR A to PeerDC side CSR A"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_B_DC
  description    "Connection between the upper layer CSR B to PeerDC side CSR B"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_B_Internal_DC
  description    "Connection between the lower layer CSR B to PeerDC side CSR B"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link SW_FW
  description    "Connection between the external switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link SW_FW_Internal
  description    "Connection between the internal switch with the inner FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 dc-mode               Dual
 skip-day1-vnfr-config false
 nfd ASR_A
  device-alias PRD-E-ASR-001
  device-type  ASR
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_A_SW_B
  !
 !
 nfd ASR_B
  device-alias PRD-E-ASR-101
  device-type  ASR
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_B_SW_B
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_B_SW_A
  !
 !
 nfd FW_External
  device-alias   PRD-O-FW-INTERNET-001
  add-new-device true
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/8
   ip-sequence          -1
   network-name         FW_Management
  !
  interfaces 1
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         FW_INTERNET_CSR
  !
  interfaces 3
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         SW_FW
  !
 !
 nfd FW_Internal
  device-alias   PRD-I-FW-INTERNET-001
  add-new-device true
  function-code  eci
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/8
   ip-sequence          -1
   network-name         FW_Internal_Management
  !
  interfaces 1
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         FW_CSR_Internal
  !
  interfaces 3
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         SW_FW_Internal
  !
 !
 nfd SW_A
  device-alias PRD-E-SW-001
  device-type  Nexus
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/9
   ip-sequence  1
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/10
   ip-sequence  1
   network-name ASR_B_SW_A
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  1
   network-name SW_FW
  !
 !
 nfd SW_B
  device-alias PRD-E-SW-101
  device-type  Nexus
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/10
   ip-sequence  1
   network-name ASR_B_SW_B
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/9
   ip-sequence  1
   network-name ASR_A_SW_B
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  2
   network-name SW_FW
  !
 !
 nfd SW_Internal_A
  device-alias PRD-C-SW-001
  device-type  Nexus
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  1
   network-name SW_FW_Internal
  !
 !
 nfd SW_Internal_B
  device-alias PRD-C-SW-101
  device-type  Nexus
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  2
   network-name SW_FW_Internal
  !
 !
!
nfvo:nfvo nsd F5_LB_SingleDC
 designer              "Cisco AS Team"
 version               1.0
 vnfd CSR_A
  connection-point downstream
   virtual-link        CSR_LBF5
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        FW_INTERNET_CSR
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point downstream
   virtual-link        CSR_LBF5
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        FW_INTERNET_CSR
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 vnfd CSR_IA
  connection-point downstream
   virtual-link        CSR_INTERNAL_FW
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        LBF5_CSR_Internal
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone Internal
  role          Primary
 !
 vnfd CSR_IB
  connection-point downstream
   virtual-link        CSR_INTERNAL_FW
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        LBF5_CSR_Internal
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone Internal
  role          Secondary
 !
 vnfd LBF5_A
  connection-point downstream
   virtual-link        LBF5_CSR_Internal
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point hsm
   virtual-link        LBF5_HSM
   ip-sequence         -1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        5
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        LBF5_Peer
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point splunk
   virtual-link        ManagementSplunk
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        1
  !
  connection-point upstream
   virtual-link        CSR_LBF5
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Primary
 !
 vnfd LBF5_B
  connection-point downstream
   virtual-link        LBF5_CSR_Internal
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point hsm
   virtual-link        LBF5_HSM
   ip-sequence         -1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        5
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        LBF5_Peer
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point splunk
   virtual-link        ManagementSplunk
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        1
  !
  connection-point upstream
   virtual-link        CSR_LBF5
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Secondary
 !
 service-access-point ext
  description    "This is a dummy SAP for fulfilling the mandatory field in NFVO package"
  layer-protocol IPv4
  virtual-link   ASR_A_SW_A
 !
 virtual-link ASR_A_SW_A
  description    "Connection between ASR A and SW A - South"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_A_SW_B
  description    "Connection between ASR A and SW B - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_B_SW_A
  description    "Connection between ASR B and SW A - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_B_SW_B
  description    "Connection between ASR B and SW B - South"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link CSR_INTERNAL_FW
  description        "Connection between the internal FW context to the internal CSR virtual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link CSR_LBF5
  description        "Connection between the upper layer CSR virtual devices and the F5 Load Balancers"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR virtual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_Peer_Internal
  description    "Connection between the lower layer CSR virtual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link FW_INTERNET_CSR
  description              "Connection between the external FW context to the upper layer CSR virtual devices"
  layer-protocol           IPv4
  cidr                     29
  pool-name                internal
  pool-name-vlan-secondary internal_global_test
  need-vlan                true
  need-contract            true
  need-epg                 true
  need-secondary-epg       true
  need-vip                 true
  vip-sequence             5
  need-vrf                 false
  cross-dc                 false
  is-vnf-network           true
 !
 virtual-link FW_Internal_Management
  description    "Management network for lower layer ASA firewall"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_lower
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     17
 !
 virtual-link FW_Management
  description    "Management network for upper layer ASA firewall management"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_upper
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link LBF5_CSR_Internal
  description        "Connection between the AVI LB and Lower CSR virtual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link LBF5_HSM
  description        "Connection between the F5 LB and HSM"
  layer-protocol     IPv4
  cidr               23
  pool-name          hsm
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  reserve-per-ip     true
  is-vnf-network     false
 !
 virtual-link LBF5_Peer
  description    "Connection between the F5 LB peers"
  layer-protocol IPv4
  cidr           30
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR virtual devices"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     20
 !
 virtual-link ManagementSplunk
  description    "Connection to the Splunk"
  layer-protocol IPv4
  cidr           23
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     24
 !
 virtual-link SW_FW
  description    "Connection between the external switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link SW_FW_Internal
  description    "Connection between the internal switch with the inner FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 dc-mode               Single
 skip-day1-vnfr-config false
 nfd ASR_A
  device-alias PRD-E-ASR-001
  device-type  ASR
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_A_SW_B
  !
 !
 nfd ASR_B
  device-alias PRD-E-ASR-101
  device-type  ASR
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_B_SW_B
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_B_SW_A
  !
 !
 nfd FW_External
  device-alias   PRD-O-FW-INTERNET-001
  add-new-device true
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/8
   ip-sequence          -1
   network-name         FW_Management
  !
  interfaces 1
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         FW_INTERNET_CSR
   network-epg          secondary
  !
  interfaces 3
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         SW_FW
  !
 !
 nfd FW_Internal
  device-alias   PRD-I-FW-INTERNET-001
  add-new-device true
  function-code  eci
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/8
   ip-sequence          -1
   network-name         FW_Internal_Management
  !
  interfaces 1
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         CSR_INTERNAL_FW
  !
  interfaces 3
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         SW_FW_Internal
  !
 !
 nfd SW_A
  device-alias PRD-E-SW-001
  device-type  Nexus
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/9
   ip-sequence  1
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/10
   ip-sequence  1
   network-name ASR_B_SW_A
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  1
   network-name SW_FW
  !
 !
 nfd SW_B
  device-alias PRD-E-SW-101
  device-type  Nexus
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/10
   ip-sequence  1
   network-name ASR_B_SW_B
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/9
   ip-sequence  1
   network-name ASR_A_SW_B
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  2
   network-name SW_FW
  !
 !
 nfd SW_Internal_A
  device-alias PRD-C-SW-001
  device-type  Nexus
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  1
   network-name SW_FW_Internal
  !
 !
 nfd SW_Internal_B
  device-alias PRD-C-SW-101
  device-type  Nexus
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  2
   network-name SW_FW_Internal
  !
 !
!
nfvo:nfvo nsd MY_SSL_DualDC
 designer              TEST
 version               0.1
 vnfd CSR_A
  connection-point downstream
   virtual-link        CSR_WAF
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point ocsp
   virtual-link        CSR_WAF_OCSP
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point peerdc
   virtual-link        Peer_A_DC
   ip-sequence         0
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        5
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point downstream
   virtual-link        CSR_WAF
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point ocsp
   virtual-link        CSR_WAF_OCSP
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point peerdc
   virtual-link        Peer_B_DC
   ip-sequence         0
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        5
  !
  security-zone External
  role          Secondary
 !
 vnfd CSR_IA
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_A_Internal_DC
   ip-sequence         0
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point upstream
   virtual-link        LB_CSR_Internal
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        4
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_IB
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_B_Internal_DC
   ip-sequence         0
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point upstream
   virtual-link        LB_CSR_Internal
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        4
  !
  security-zone Internal
  role          Secondary
 !
 vnfd LB_A
  connection-point downstream
   virtual-link        LB_CSR_Internal
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point upstream
   virtual-link        WAF_LB_A
   ip-sequence         2
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Primary
 !
 vnfd LB_B
  connection-point downstream
   virtual-link        LB_CSR_Internal
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point upstream
   virtual-link        WAF_LB_B
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Secondary
 !
 vnfd WAF_A
  connection-point downstream
   virtual-link        WAF_LB_A
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point hsm
   virtual-link        WAF_HSM
   ip-sequence         -1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point ocsp
   virtual-link        CSR_WAF_OCSP
   ip-sequence         3
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point peer
   virtual-link        WAF_Peer
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point splunk
   virtual-link        ManagementSplunk
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        6
  !
  connection-point upstream
   virtual-link        CSR_WAF
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        5
  !
  security-zone External
  role          Primary
 !
 vnfd WAF_B
  connection-point downstream
   virtual-link        WAF_LB_B
   ip-sequence         1
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point hsm
   virtual-link        WAF_HSM
   ip-sequence         -1
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point ocsp
   virtual-link        CSR_WAF_OCSP
   ip-sequence         4
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point peer
   virtual-link        WAF_Peer
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point splunk
   virtual-link        ManagementSplunk
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        6
  !
  connection-point upstream
   virtual-link        CSR_WAF
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        5
  !
  security-zone External
  role          Secondary
 !
 service-access-point ext
  description    "Connection between ASR A and SW B - South"
  layer-protocol IPv4
  virtual-link   ASR_A_SW_A
 !
 virtual-link ASR_A_SW_A
  description    "Connection between ASR A and SW B - South"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_A_SW_B
  description    "Connection between ASR A and SW B - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_B_SW_A
  description    "Connection between ASR B and SW A - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_B_SW_B
  description    "Connection between ASR B and SW B - South"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_Peer_Internal
  description    "Connection between the lower layer CSR vitual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_WAF
  description        "Connection between the upper layer CSR with WAF"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link CSR_WAF_OCSP
  description        "Connection between the upper layer CSR with WAF, dedicated for OSCP"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link FW_CSR
  description        "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_INTERNET_CSR
  description        "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_Management
  description    "Management network for upper layer ASA firewall management"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_upper
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     17
 !
 virtual-link LB_CSR_Internal
  description        "Connection between the AVI LB to the internal CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           23
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  is-vnf-network true
 !
 virtual-link ManagementSplunk
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
 !
 virtual-link OCSP_NAT_1
  description    "NAT1 address for OCSP source in DC1."
  layer-protocol IPv4
  cidr           32
  pool-name      ocsp_primary
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link OCSP_NAT_2
  description    "NAT2 address for OCSP source in DC1."
  layer-protocol IPv4
  cidr           32
  pool-name      ocsp_primary
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link OCSP_NAT_3
  description    "NAT1 address for OCSP source in DC2."
  layer-protocol IPv4
  cidr           32
  pool-name      ocsp_secondary
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link OCSP_NAT_4
  description    "NAT2 address for OCSP source in DC2."
  layer-protocol IPv4
  cidr           32
  pool-name      ocsp_secondary
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_A_DC
  description    "Connection between the CSR A to PeerDC CSR side A"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_A_Internal_DC
  description    "Connection between the lower layer CSR A to PeerDC CSR side A"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_B_DC
  description    "Connection between the upper layer CSR B to PeerDC CSR side B"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_B_Internal_DC
  description    "Connection between the lower layer CSR B to PeerDC CSR side B"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link SW_FW
  description    "Connection between the external switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link WAF_HSM
  description        "Connection between WAF and AVI Load Balance"
  layer-protocol     IPv4
  cidr               23
  pool-name          hsm
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  reserve-per-ip     true
  is-vnf-network     false
 !
 virtual-link WAF_LB_A
  description        "Connection between WAF and AVI Load Balance for Side A"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link WAF_LB_B
  description        "Connection between WAF and AVI Load Balance for Side B"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link WAF_Peer
  description        "Connection between WAF A and WAF B"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg false
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 dc-mode               Dual
 skip-day1-vnfr-config false
 nfd ASR_A
  device-alias PRD-E-ASR-001
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_A_SW_B
  !
 !
 nfd ASR_B
  device-alias PRD-E-ASR-002
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_B_SW_B
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_B_SW_A
  !
 !
 nfd FW
  device-alias   PRD-O-FW-EXTRANET-001
  add-new-device true
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Management
  !
  interfaces 1
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         FW_CSR
  !
  interfaces 3
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         SW_FW
  !
 !
 nfd SW_A
  device-alias PRD-E-SW-001
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/9
   ip-sequence  1
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/10
   ip-sequence  1
   network-name ASR_B_SW_A
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  1
   network-name SW_FW
  !
 !
 nfd SW_B
  device-alias PRD-E-SW-101
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/10
   ip-sequence  1
   network-name ASR_B_SW_B
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/9
   ip-sequence  1
   network-name ASR_A_SW_B
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  2
   network-name SW_FW
  !
 !
!
nfvo:nfvo nsd ROLB_SSL_DUALDC
 designer "Cisco AS Team"
 version  0.1
 vnfd CSRA2_A
  connection-point downstream
   virtual-link CSRA2_NGINX
  !
  connection-point downstream2
   virtual-link CSRA2_LBC2
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link CSRA2_Peer
  !
  connection-point upstream
   virtual-link LB_CSRA2
  !
  security-zone External
  role          Primary
 !
 vnfd CSRA2_B
  connection-point downstream
   virtual-link CSRA2_NGINX
  !
  connection-point downstream2
   virtual-link CSRA2_LBC2
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link CSRA2_Peer
  !
  connection-point upstream
   virtual-link LB_CSRA2
  !
  security-zone External
  role          Secondary
 !
 vnfd CSRC2_A
  connection-point downstream
   virtual-link CSRC2_WAFC2
  !
  connection-point downstream2
   virtual-link FW_C2_CSR_C2
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link CSRC2_Peer
  !
  security-zone External
  role          Primary
 !
 vnfd CSRC2_B
  connection-point downstream
   virtual-link CSRC2_WAFC2
  !
  connection-point downstream2
   virtual-link FW_C2_CSR_C2
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link CSRC2_Peer
  !
  security-zone External
  role          Secondary
 !
 vnfd CSR_A
  connection-point downstream
   virtual-link CSR_WAF
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link CSR_Peer
  !
  connection-point peerdc
   virtual-link Peer_A_DC
  !
  connection-point upstream
   virtual-link FW_INTERNET_CSR
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point downstream
   virtual-link CSR_WAF
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link CSR_Peer
  !
  connection-point peerdc
   virtual-link Peer_B_DC
  !
  connection-point upstream
   virtual-link FW_INTERNET_CSR
  !
  security-zone External
  role          Secondary
 !
 vnfd CSR_IA
  connection-point downstream
   virtual-link CSR_INTERNAL_FW
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link CSR_INTERNAL_Peer
  !
  connection-point peerdc
   virtual-link Peer_A_Internal_DC
  !
  connection-point shared
   virtual-link SHARED
  !
  connection-point upstream
   virtual-link APP_CSR
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_IB
  connection-point downstream
   virtual-link CSR_INTERNAL_FW
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link CSR_INTERNAL_Peer
  !
  connection-point peerdc
   virtual-link Peer_B_Internal_DC
  !
  connection-point shared
   virtual-link SHARED
  !
  connection-point upstream
   virtual-link APP_CSR
  !
  security-zone External
  role          Secondary
 !
 vnfd LBC2_A
  connection-point downstream
   virtual-link CSRA2_LBC2
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point upstream
   virtual-link WAFC2_LB_A
  !
  security-zone External
  role          Primary
 !
 vnfd LBC2_B
  connection-point downstream
   virtual-link CSRA2_LBC2
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point upstream
   virtual-link WAFC2_LB_B
  !
  security-zone External
  role          Secondary
 !
 vnfd LB_A
  connection-point downstream
   virtual-link LB_CSRA2
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point upstream
   virtual-link WAF_LB_A
  !
  security-zone External
  role          Primary
 !
 vnfd LB_B
  connection-point downstream
   virtual-link LB_CSRA2
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point upstream
   virtual-link WAF_LB_B
  !
  security-zone External
  role          Secondary
 !
 vnfd VFW_A
  connection-point downstream
   virtual-link VFW_APP
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link VFW_Peer
  !
  connection-point shared
   virtual-link SHARED
  !
  connection-point upstream
   virtual-link NGINX_VFW
  !
  security-zone External
  role          Primary
 !
 vnfd VFW_B
  connection-point downstream
   virtual-link VFW_APP
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link VFW_Peer
  !
  connection-point shared
   virtual-link SHARED
  !
  connection-point upstream
   virtual-link NGINX_VFW
  !
  security-zone External
  role          Secondary
 !
 vnfd WAFC2_A
  connection-point downstream
   virtual-link WAFC2_LB_A
  !
  connection-point hsm
   virtual-link WAFC2_HSM
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link WAFC2_Peer
  !
  connection-point splunk
   virtual-link Management
  !
  connection-point upstream
   virtual-link CSRC2_WAFC2
  !
  security-zone External
  role          Primary
 !
 vnfd WAFC2_B
  connection-point downstream
   virtual-link WAFC2_LB_B
  !
  connection-point hsm
   virtual-link WAFC2_HSM
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link WAFC2_Peer
  !
  connection-point splunk
   virtual-link Management
  !
  connection-point upstream
   virtual-link CSRC2_WAFC2
  !
  security-zone External
  role          Secondary
 !
 vnfd WAF_A
  connection-point downstream
   virtual-link WAF_LB_A
  !
  connection-point hsm
   virtual-link WAF_HSM
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link WAF_Peer
  !
  connection-point splunk
   virtual-link Management
  !
  connection-point upstream
   virtual-link CSR_WAF
  !
  security-zone External
  role          Primary
 !
 vnfd WAF_B
  connection-point downstream
   virtual-link WAF_LB_B
  !
  connection-point hsm
   virtual-link WAF_HSM
  !
  connection-point mgmt
   virtual-link Management
  !
  connection-point peer
   virtual-link WAF_Peer
  !
  connection-point splunk
   virtual-link Management
  !
  connection-point upstream
   virtual-link CSR_WAF
  !
  security-zone External
  role          Secondary
 !
 service-access-point ext
  description    "Connection between the CSR and the APP Server"
  layer-protocol IPv4
  virtual-link   APP_CSR
 !
 virtual-link APP_CSR
  description    "Connection between the CSR and the APP Server"
  layer-protocol IPv4
 !
 virtual-link ASR_A_SW_A
  description    "Connection between ASR A and SW B - South"
  layer-protocol IPv4
 !
 virtual-link ASR_A_SW_B
  description    "Connection between ASR A and SW B - Crossing"
  layer-protocol IPv4
 !
 virtual-link CSRA2_LBC2
  description    "Connection between the CSR A2 with the AVI LB C2"
  layer-protocol IPv4
 !
 virtual-link CSRA2_NGINX
  description    "Connection between the CSR A2 with the Linux VM for NGINX"
  layer-protocol IPv4
 !
 virtual-link CSRA2_Peer
  description    "Connection between CSR A2 A and CSR A2 B"
  layer-protocol IPv4
 !
 virtual-link CSRC2_Peer
  description    "Connection between CSR C2 A and CSR C2 B"
  layer-protocol IPv4
 !
 virtual-link CSRC2_WAFC2
  description    "Connection between the CSR C2 with the AVI LB"
  layer-protocol IPv4
 !
 virtual-link CSR_INTERNAL_FW
  description    "Connection between the external FW context to the Internal CSR vitual devices"
  layer-protocol IPv4
 !
 virtual-link CSR_INTERNAL_Peer
  description    "Connection between CSR A and CSR B"
  layer-protocol IPv4
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR vitual devices"
  layer-protocol IPv4
 !
 virtual-link CSR_Peer_Internal
  description    "Connection between the lower layer CSR vitual devices"
  layer-protocol IPv4
 !
 virtual-link CSR_WAF
  description    "Connection between the upper layer CSR with WAF"
  layer-protocol IPv4
 !
 virtual-link FW_C2_CSR_C2
  description    "Connection between the external FW context to the Internal CSR vitual devices"
  layer-protocol IPv4
 !
 virtual-link FW_C2_SW_INTERNAL
  description    "Connection between the Internal FW C2 and internal SW"
  layer-protocol IPv4
 !
 virtual-link FW_INTERNAL_MANAGEMENT
  description    "Management network for down layer ASA firewall"
  layer-protocol IPv4
 !
 virtual-link FW_INTERNAL_SW_INTERNAL
  description    "Connection between the Internal FW and internal SW"
  layer-protocol IPv4
 !
 virtual-link FW_INTERNET_CSR
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
 !
 virtual-link FW_Management
  description    "Management network for upper layer ASA firewall management"
  layer-protocol IPv4
 !
 virtual-link LB_CSRA2
  description    "Connection between the AVI LB and A2 CSR vitual devices"
  layer-protocol IPv4
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
 !
 virtual-link NGINX_VFW
  description    "Connection between the NGINX with Virtual Firewall VM"
  layer-protocol IPv4
 !
 virtual-link Peer_A_DC
  description    "Connection between the CSR A to PeerDC CSR side A"
  layer-protocol IPv4
 !
 virtual-link Peer_A_Internal_DC
  description    "Connection between the lower layer CSR A to PeerDC CSR side A"
  layer-protocol IPv4
 !
 virtual-link Peer_B_DC
  description    "Connection between the upper layer CSR B to PeerDC CSR side B"
  layer-protocol IPv4
 !
 virtual-link Peer_B_Internal_DC
  description    "Connection between the lower layer CSR B to PeerDC CSR side B"
  layer-protocol IPv4
 !
 virtual-link SHARED
  description    "Connection to A5 shared zone"
  layer-protocol IPv4
 !
 virtual-link SW_FW
  description    "Connection between the external switch with the upper FW context"
  layer-protocol IPv4
 !
 virtual-link VFW_APP
  description    "Connection between the vFW and the APP Server"
  layer-protocol IPv4
 !
 virtual-link VFW_Peer
  description    "Connection between vFW A and vFW B"
  layer-protocol IPv4
 !
 virtual-link WAFC2_HSM
  description    "Connection between WAF and HSM"
  layer-protocol IPv4
 !
 virtual-link WAFC2_LB_A
  description    "Connection between WAF and AVI Load Balance for Side A"
  layer-protocol IPv4
 !
 virtual-link WAFC2_LB_B
  description    "Connection between WAF and AVI Load Balance for Side B"
  layer-protocol IPv4
 !
 virtual-link WAFC2_Peer
  description    "Connection between WAF A and WAF B"
  layer-protocol IPv4
 !
 virtual-link WAF_HSM
  description    "Connection between WAF and AVI Load Balance"
  layer-protocol IPv4
 !
 virtual-link WAF_LB_A
  description    "Connection between WAF and AVI Load Balance for Side A"
  layer-protocol IPv4
 !
 virtual-link WAF_LB_B
  description    "Connection between WAF and AVI Load Balance for Side B"
  layer-protocol IPv4
 !
 virtual-link WAF_Peer
  description    "Connection between WAF A and WAF B"
  layer-protocol IPv4
 !
!
nfvo:nfvo nsd ROLB_SSL_SingleDC
 designer              "Cisco AS Team"
 version               0.1
 vnfd CSRA2_A
  connection-point downstream
   virtual-link        CSRA2_NGINX
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point downstream2
   virtual-link        CSRA2_LBC2
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSRA2_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Primary
 !
 vnfd CSRA2_B
  connection-point downstream
   virtual-link        CSRA2_NGINX
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point downstream2
   virtual-link        CSRA2_LBC2
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSRA2_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Secondary
 !
 vnfd CSRC2_A
  connection-point downstream
   virtual-link        CSRC2_WAFC2
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point downstream2
   virtual-link        FW_C2_CSR_C2
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSRC2_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Primary
 !
 vnfd CSRC2_B
  connection-point downstream
   virtual-link        CSRC2_WAFC2
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point downstream2
   virtual-link        FW_C2_CSR_C2
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSRC2_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Secondary
 !
 vnfd CSR_IA
  connection-point downstream
   virtual-link        CSR_INTERNAL_FW
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_INTERNAL_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        APP_CSR
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone Internal
  role          Primary
 !
 vnfd CSR_IB
  connection-point downstream
   virtual-link        CSR_INTERNAL_FW
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_INTERNAL_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        APP_CSR
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone Internal
  role          Secondary
 !
 vnfd LBC2_A
  connection-point downstream
   virtual-link        CSRA2_LBC2
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point upstream
   virtual-link        WAFC2_LB_A
   ip-sequence         2
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd LBC2_B
  connection-point downstream
   virtual-link        CSRA2_LBC2
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point upstream
   virtual-link        WAFC2_LB_B
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 vnfd VFW_A
  connection-point downstream
   virtual-link        VFW_APP
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        VFW_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        NGINX_VFW
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd VFW_B
  connection-point downstream
   virtual-link        VFW_APP
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        VFW_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        NGINX_VFW
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 vnfd WAFC2_A
  connection-point downstream
   virtual-link        WAFC2_LB_A
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point hsm
   virtual-link        WAFC2_HSM
   ip-sequence         -1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        5
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        WAFC2_Peer
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point splunk
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        1
  !
  connection-point upstream
   virtual-link        CSRC2_WAFC2
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Primary
 !
 vnfd WAFC2_B
  connection-point downstream
   virtual-link        WAFC2_LB_B
   ip-sequence         1
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point hsm
   virtual-link        WAFC2_HSM
   ip-sequence         -1
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        5
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        WAFC2_Peer
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point splunk
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        1
  !
  connection-point upstream
   virtual-link        CSRC2_WAFC2
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Secondary
 !
 service-access-point ext
  description    "Connection between the CSR and the APP Server"
  layer-protocol IPv4
  virtual-link   APP_CSR
 !
 virtual-link APP_CSR
  description        "Connection between the CSR and the APP Server"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link CSRA2_LBC2
  description        "Connection between the CSR A2 with the AVI LB C2"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link CSRA2_NGINX
  description        "Connection between the CSR A2 with the Linux VM for NGINX"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link CSRA2_Peer
  description    "Connection between CSR A2 A and CSR A2 B"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSRC2_Peer
  description    "Connection between CSR C2 A and CSR C2 B"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSRC2_WAFC2
  description        "Connection between the CSR C2 with the AVI LB"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link CSR_INTERNAL_FW
  description        "Connection between the external FW context to the Internal CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link CSR_INTERNAL_Peer
  description    "Connection between CSR A and CSR B"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link FW_C2_CSR_C2
  description        "Connection between the external FW context to the Internal CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_C2_SW_INTERNAL
  description    "Connection between the Internal FW C2 and internal SW"
  layer-protocol IPv4
  cidr           29
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link FW_INTERNAL_MANAGEMENT
  description    "Management network for down layer ASA firewall"
  layer-protocol IPv4
  cidr           24
  pool-name      mgmt_fw_upper
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
 !
 virtual-link FW_INTERNAL_SW_INTERNAL
  description    "Connection between the Internal FW and internal SW"
  layer-protocol IPv4
  cidr           29
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     20
 !
 virtual-link NGINX_VFW
  description        "Connection between the NGINX with Virtual Firewall VM"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link VFW_APP
  description        "Connection between the vFW and the APP Server"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link VFW_Peer
  description    "Connection between vFW A and vFW B"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link WAFC2_HSM
  description        "Connection between WAF and HSM"
  layer-protocol     IPv4
  cidr               28
  pool-name          hsm
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  reserve-per-ip     true
  is-vnf-network     false
 !
 virtual-link WAFC2_LB_A
  description        "Connection between WAF and AVI Load Balance for Side A"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link WAFC2_LB_B
  description        "Connection between WAF and AVI Load Balance for Side B"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link WAFC2_Peer
  description        "Connection between WAF A and WAF B"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg false
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 dc-mode               Single
 skip-day1-vnfr-config false
 nfd FW_C2
  device-alias   PRD-I-FW-EXTRANET-001
  add-new-device true
  function-code  eci
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/8
   ip-sequence          -1
   network-name         FW_INTERNAL_MANAGEMENT
  !
  interfaces 1
   role                 north
   need-standby-address true
   standby-ip-sequence  2
   if-type              PortChannel
   name                 2
   ip-sequence          1
   network-name         FW_C2_CSR_C2
  !
  interfaces 3
   role                 south
   need-standby-address true
   standby-ip-sequence  2
   if-type              PortChannel
   name                 1
   ip-sequence          1
   network-name         FW_C2_SW_INTERNAL
  !
 !
 nfd FW_INTERNAL
  device-alias   PRD-I-FW-EXTRANET-001
  add-new-device true
  function-code  eci
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/8
   ip-sequence          -1
   network-name         FW_INTERNAL_MANAGEMENT
  !
  interfaces 1
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         CSR_INTERNAL_FW
  !
  interfaces 3
   role                 south
   need-standby-address true
   standby-ip-sequence  2
   if-type              PortChannel
   name                 1
   ip-sequence          1
   network-name         FW_INTERNAL_SW_INTERNAL
  !
 !
 nfd SW_INTERNAL_A
  device-alias PRD-C-SW-001
  interfaces 0
   role         north
   if-type      SVI
   name         1/1
   ip-sequence  3
   network-name FW_C2_SW_INTERNAL
  !
  interfaces 1
   role         south
   if-type      SVI
   name         1/1
   ip-sequence  3
   network-name FW_INTERNAL_SW_INTERNAL
  !
 !
 nfd SW_INTERNAL_B
  device-alias PRD-C-SW-101
  interfaces 0
   role         north
   if-type      SVI
   name         1/1
   ip-sequence  4
   network-name FW_C2_SW_INTERNAL
  !
  interfaces 1
   role         south
   if-type      SVI
   name         1/1
   ip-sequence  4
   network-name FW_INTERNAL_SW_INTERNAL
  !
 !
!
nfvo:nfvo nsd SSL_DualDC
 designer              "Cisco AS Team"
 version               2.0
 vnfd CSR_A
  connection-point downstream
   virtual-link        CSR_WAF
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point ocsp
   virtual-link        CSR_WAF_OCSP
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point peerdc
   virtual-link        Peer_A_DC
   ip-sequence         0
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        5
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point downstream
   virtual-link        CSR_WAF
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point ocsp
   virtual-link        CSR_WAF_OCSP
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point peerdc
   virtual-link        Peer_B_DC
   ip-sequence         0
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        5
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 vnfd CSR_IA
  connection-point downstream
   virtual-link        CSR_Internal_EC
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_A_Internal_DC
   ip-sequence         0
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point upstream
   virtual-link        LB_CSR_Internal
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        4
  !
  security-zone Internal
  role          Primary
 !
 vnfd CSR_IB
  connection-point downstream
   virtual-link        CSR_Internal_EC
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point peerdc
   virtual-link        Peer_B_Internal_DC
   ip-sequence         0
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point upstream
   virtual-link        LB_CSR_Internal
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        4
  !
  security-zone Internal
  role          Secondary
 !
 vnfd LB_A
  connection-point downstream
   virtual-link        LB_CSR_Internal
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point upstream
   virtual-link        WAF_LB_A
   ip-sequence         2
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd LB_B
  connection-point downstream
   virtual-link        LB_CSR_Internal
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point upstream
   virtual-link        WAF_LB_B
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 vnfd WAF_A
  connection-point downstream
   virtual-link        WAF_LB_A
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point hsm
   virtual-link        WAF_HSM
   ip-sequence         -1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point ocsp
   virtual-link        CSR_WAF_OCSP
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        5
  !
  connection-point peer
   virtual-link        WAF_Peer
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        6
  !
  connection-point splunk
   virtual-link        ManagementSplunk
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        1
  !
  connection-point upstream
   virtual-link        CSR_WAF
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Primary
 !
 vnfd WAF_B
  connection-point downstream
   virtual-link        WAF_LB_B
   ip-sequence         1
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point hsm
   virtual-link        WAF_HSM
   ip-sequence         -1
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point ocsp
   virtual-link        CSR_WAF_OCSP
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        5
  !
  connection-point peer
   virtual-link        WAF_Peer
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        6
  !
  connection-point splunk
   virtual-link        ManagementSplunk
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        1
  !
  connection-point upstream
   virtual-link        CSR_WAF
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        2
  !
  security-zone External
  role          Secondary
 !
 service-access-point ext
  description    "Connection between ASR A and SW B - South"
  layer-protocol IPv4
  virtual-link   ASR_A_SW_A
 !
 virtual-link ASR_A_SW_A
  description    "Connection between ASR A and SW B - South"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_A_SW_B
  description    "Connection between ASR A and SW B - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_B_SW_A
  description    "Connection between ASR B and SW A - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_B_SW_B
  description    "Connection between ASR B and SW B - South"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link CSR_Internal_EC
  description        "Connection between the internal CSRs with the e-channel"
  layer-protocol     IPv4
  cidr               29
  pool-name          echannel
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_Peer_Internal
  description    "Connection between the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_WAF
  description        "Connection between the upper layer CSR with WAF"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link CSR_WAF_OCSP
  description        "Connection between the upper layer CSR with WAF, dedicated for OSCP"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link FW_CSR
  description        "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_INTERNET_CSR
  description        "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_Management
  description    "Management network for upper layer ASA firewall"
  layer-protocol IPv4
  cidr           22
  pool-name      mgmt_fw_upper
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   1020
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link LB_CSR_Internal
  description        "Connection between the internal FW context to the internal CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  is-vnf-network true
  fixed-vlan     20
 !
 virtual-link ManagementSplunk
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           24
  pool-name      splunk
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  is-vnf-network true
  fixed-vlan     24
 !
 virtual-link OCSP_NAT_1
  description    "NAT1 address for OCSP source in DC1."
  layer-protocol IPv4
  cidr           32
  pool-name      ocsp_primary
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link OCSP_NAT_2
  description    "NAT2 address for OCSP source in DC1."
  layer-protocol IPv4
  cidr           32
  pool-name      ocsp_primary
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link OCSP_NAT_3
  description    "NAT1 address for OCSP source in DC2."
  layer-protocol IPv4
  cidr           32
  pool-name      ocsp_secondary
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link OCSP_NAT_4
  description    "NAT2 address for OCSP source in DC2."
  layer-protocol IPv4
  cidr           32
  pool-name      ocsp_secondary
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_A_DC
  description    "Connection between the CSR A to PeerDC CSR side A"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_A_Internal_DC
  description    "Connection between the lower layer CSR A to PeerDC CSR side A"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_B_DC
  description    "Connection between the upper layer CSR B to PeerDC CSR side B"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link Peer_B_Internal_DC
  description    "Connection between the lower layer CSR B to PeerDC CSR side B"
  layer-protocol IPv4
  cidr           31
  pool-name      peer_dc
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  cross-dc       true
 !
 virtual-link SW_FW
  description    "Connection between the external switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link WAF_HSM
  description        "Connection between WAF and AVI Load Balance"
  layer-protocol     IPv4
  cidr               23
  pool-name          hsm
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  reserve-per-ip     true
  is-vnf-network     false
 !
 virtual-link WAF_LB_A
  description        "Connection between WAF and AVI Load Balance for Side A"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link WAF_LB_B
  description        "Connection between WAF and AVI Load Balance for Side B"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link WAF_Peer
  description        "Connection between WAF A and WAF B"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg false
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 dc-mode               Dual
 skip-day1-vnfr-config false
 nfd ASR_A
  device-alias PRD-E-ASR-001
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_A_SW_B
  !
 !
 nfd ASR_B
  device-alias PRD-E-ASR-101
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_B_SW_B
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_B_SW_A
  !
 !
 nfd FW
  device-alias   PRD-O-FW-INTERNET-001
  add-new-device true
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Management
  !
  interfaces 1
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         FW_CSR
  !
  interfaces 3
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         SW_FW
  !
 !
 nfd FW_Internal
  device-alias   dummy_echannel_fw_001
  add-new-device true
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Management
  !
  interfaces 1
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         CSR_Internal_EC
  !
 !
 nfd SW_A
  device-alias PRD-E-SW-001
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/9
   ip-sequence  1
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/10
   ip-sequence  1
   network-name ASR_B_SW_A
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  1
   network-name SW_FW
  !
 !
 nfd SW_B
  device-alias PRD-E-SW-101
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/10
   ip-sequence  1
   network-name ASR_B_SW_B
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/9
   ip-sequence  1
   network-name ASR_A_SW_B
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  2
   network-name SW_FW
  !
 !
!
nfvo:nfvo nsd Transit_DualDC
 designer              "Cisco AS"
 version               1.2
 vnfd CSR_A
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  ! !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 service-access-point FW_CSR_Internal
  description    "Connection between ASR A and SW A"
  layer-protocol IPv4
  virtual-link   FW_CSR_Internal
 !
 virtual-link ASR_A_SW_A
  description    "Connection between ASR A and SW B - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_A_SW_B
  description    "Connection between ASR A and SW B - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network false
 !
 virtual-link FW_CSR
  description        "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_CSR_Internal
  description        "Connection between the internal FW context to the internal CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link FW_Internal_Management
  description    "Management network for lower layer ASA firewall"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_lower
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link FW_Management
  description    "Management network for upper layer ASA firewall"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_upper
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     20
 !
 virtual-link SW_FW
  description    "Connection between the external switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link SW_FW_Internal
  description    "Connection between the internal switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 dc-mode               Dual
 skip-day1-vnfr-config false
 nfd ASR_A
  device-alias PRD-E-ASR-002
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_A_SW_B
  !
 !
 nfd FW
  device-alias   PRD-O-FW-EXTRANET-001
  add-new-device true
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Management
  !
  interfaces 1
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         FW_CSR
  !
  interfaces 3
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         SW_FW
  !
 !
 nfd FW_Internal
  device-alias   PRD-I-FW-EXTRANET-001
  add-new-device true
  function-code  eci
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Internal_Management
  !
  interfaces 1
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         FW_CSR_Internal
  !
  interfaces 3
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         SW_FW_Internal
  !
 !
 nfd SW_A
  device-alias PRD-E-SW-001
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/1
   ip-sequence  1
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         south
   if-type      SVI
   name         1/3/1/1
   ip-sequence  1
   network-name SW_FW
  !
 !
 nfd SW_A_Internal
  device-alias PRD-C-SW-001
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  1
   network-name SW_FW_Internal
  !
 !
 nfd SW_B
  device-alias PRD-E-SW-101
  interfaces 0
   role         crossing
   if-type      Ethernet
   name         1/1
   ip-sequence  1
   network-name ASR_A_SW_B
  !
  interfaces 1
   role         south
   if-type      SVI
   name         1/3/1/1
   ip-sequence  2
   network-name SW_FW
  !
 !
 nfd SW_B_Internal
  device-alias PRD-C-SW-101
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  2
   network-name SW_FW_Internal
  !
 !
!
nfvo:nfvo nsd Transit_SingleDC
 designer              "Cisco AS"
 version               1.2
 vnfd CSR_A
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  ! !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 service-access-point FW_CSR_Internal
  description    "Connection between ASR A and SW A"
  layer-protocol IPv4
  virtual-link   FW_CSR_Internal
 !
 virtual-link ASR_A_SW_A
  description    "Connection between ASR A and SW B - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_A_SW_B
  description    "Connection between ASR A and SW B - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network false
 !
 virtual-link FW_CSR
  description        "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_CSR_Internal
  description        "Connection between the internal FW context to the internal CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link FW_Internal_Management
  description    "Management network for lower layer ASA firewall"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_lower
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link FW_Management
  description    "Management network for upper layer ASA firewall"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_upper
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     20
 !
 virtual-link SW_FW
  description    "Connection between the external switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link SW_FW_Internal
  description    "Connection between the internal switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 dc-mode               Single
 skip-day1-vnfr-config false
 nfd ASR_A
  device-alias PRD-E-ASR-002
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_A_SW_B
  !
 !
 nfd FW
  device-alias   PRD-O-FW-EXTRANET-001
  add-new-device true
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Management
  !
  interfaces 1
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         FW_CSR
  !
  interfaces 3
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         SW_FW
  !
 !
 nfd FW_Internal
  device-alias   PRD-I-FW-EXTRANET-001
  add-new-device true
  function-code  eci
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Internal_Management
  !
  interfaces 1
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         FW_CSR_Internal
  !
  interfaces 3
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         SW_FW_Internal
  !
 !
 nfd SW_A
  device-alias PRD-E-SW-001
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/1
   ip-sequence  1
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         south
   if-type      SVI
   name         1/3/1/1
   ip-sequence  1
   network-name SW_FW
  !
 !
 nfd SW_A_Internal
  device-alias PRD-C-SW-001
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  1
   network-name SW_FW_Internal
  !
 !
 nfd SW_B
  device-alias PRD-E-SW-101
  interfaces 0
   role         crossing
   if-type      Ethernet
   name         1/1
   ip-sequence  1
   network-name ASR_A_SW_B
  !
  interfaces 1
   role         south
   if-type      SVI
   name         1/3/1/1
   ip-sequence  2
   network-name SW_FW
  !
 !
 nfd SW_B_Internal
  device-alias PRD-C-SW-101
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  2
   network-name SW_FW_Internal
  !
 !
!
nfvo:nfvo nsd Transit_SingleDC_JonathanSpecial
 designer              "Cisco AS"
 version               1.2
 vnfd CSR_A
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point downstream
   virtual-link        FW_CSR_Internal
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 service-access-point FW_CSR_Internal
  description    "Connection between ASR A and SW A"
  layer-protocol IPv4
  virtual-link   FW_CSR_Internal
 !
 virtual-link ASR_A_SW_A
  description    "Connection between ASR A and SW B - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link ASR_A_SW_B
  description    "Connection between ASR A and SW B - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      jonathan_internal_test
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network false
 !
 virtual-link FW_CSR
  description        "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_CSR_Internal
  description        "Connection between the internal FW context to the internal CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link FW_Internal_Management
  description    "Management network for lower layer ASA firewall"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_lower
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link FW_Management
  description    "Management network for upper layer ASA firewall"
  layer-protocol IPv4
  cidr           23
  pool-name      mgmt_fw_upper
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   510
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     18
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     20
 !
 virtual-link SW_FW
  description    "Connection between the external switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link SW_FW_Internal
  description    "Connection between the internal switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 dc-mode               Single
 skip-day1-vnfr-config false
 nfd ASR_A
  device-alias PRD-E-ASR-002
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name ASR_A_SW_B
  !
 !
 nfd FW
  device-alias   PRD-O-FW-EXTRANET-001
  add-new-device true
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Management
  !
  interfaces 1
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         FW_CSR
  !
  interfaces 3
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         SW_FW
  !
 !
 nfd FW_Internal
  device-alias   PRD-I-FW-EXTRANET-001
  add-new-device true
  function-code  eci
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Internal_Management
  !
  interfaces 1
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         FW_CSR_Internal
  !
  interfaces 3
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         SW_FW_Internal
  !
 !
 nfd SW_A
  device-alias PRD-E-SW-001
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/1
   ip-sequence  1
   network-name ASR_A_SW_A
  !
  interfaces 1
   role         south
   if-type      SVI
   name         1/3/1/1
   ip-sequence  1
   network-name SW_FW
  !
 !
 nfd SW_A_Internal
  device-alias PRD-C-SW-001
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  1
   network-name SW_FW_Internal
  !
 !
 nfd SW_B
  device-alias PRD-E-SW-101
  interfaces 0
   role         crossing
   if-type      Ethernet
   name         1/1
   ip-sequence  1
   network-name ASR_A_SW_B
  !
  interfaces 1
   role         south
   if-type      SVI
   name         1/3/1/1
   ip-sequence  2
   network-name SW_FW
  !
 !
 nfd SW_B_Internal
  device-alias PRD-C-SW-101
  interfaces 0
   role         north
   if-type      SVI
   name         1/3/1/1
   ip-sequence  2
   network-name SW_FW_Internal
  !
 !
!
nfvo:nfvo nsd UC7PreProd_SingleDC
 designer              "Cisco AS Incubation Team"
 version               1.9
 vnfd CSR_A
  connection-point downstream
   virtual-link        CSR_WAF
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         1
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_B
  connection-point downstream
   virtual-link        CSR_WAF
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        FW_CSR
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 vnfd CSR_IA
  connection-point downstream
   virtual-link        CSR_Internal_EC
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         0
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        LB_CSR_Internal
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        4
  !
  security-zone External
  role          Primary
 !
 vnfd CSR_IB
  connection-point downstream
   virtual-link        CSR_Internal_EC
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        1
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        CSR_Peer_Internal
   ip-sequence         1
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point upstream
   virtual-link        LB_CSR_Internal
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        4
  !
  security-zone Internal
  role          Secondary
 !
 vnfd LB_A
  connection-point downstream
   virtual-link        LB_CSR_Internal
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point upstream
   virtual-link        WAF_LB_A
   ip-sequence         2
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd LB_B
  connection-point downstream
   virtual-link        LB_CSR_Internal
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        2
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point upstream
   virtual-link        WAF_LB_B
   ip-sequence         2
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 vnfd WAF_A
  connection-point downstream
   virtual-link        WAF_LB_A
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point hsm
   virtual-link        WAF_HSM
   ip-sequence         -1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        5
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        WAF_Peer
   ip-sequence         1
   physical-interface  enp133s0f0
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point splunk
   virtual-link        ManagementSplunk
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        6
  !
  connection-point upstream
   virtual-link        CSR_WAF
   ip-sequence         3
   physical-interface  enp3s0f0
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Primary
 !
 vnfd WAF_B
  connection-point downstream
   virtual-link        WAF_LB_B
   ip-sequence         1
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         primary
   vnic-type           SRIOV
   interface-id        4
  !
  connection-point hsm
   virtual-link        WAF_HSM
   ip-sequence         -1
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        5
  !
  connection-point mgmt
   virtual-link        Management
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        0
  !
  connection-point peer
   virtual-link        WAF_Peer
   ip-sequence         2
   physical-interface  enp133s0f1
   need-dedicated-vlan false
   vnic-type           SRIOV
   interface-id        3
  !
  connection-point splunk
   virtual-link        ManagementSplunk
   ip-sequence         -1
   physical-interface  po_vnf_mgmt
   need-dedicated-vlan false
   vnic-type           access
   interface-id        6
  !
  connection-point upstream
   virtual-link        CSR_WAF
   ip-sequence         4
   physical-interface  enp3s0f1
   need-dedicated-vlan false
   network-epg         secondary
   vnic-type           SRIOV
   interface-id        1
  !
  security-zone External
  role          Secondary
 !
 service-access-point ext
  description    "Service access point"
  layer-protocol IPv4
  virtual-link   CORE_A_SW_A
 !
 virtual-link CORE_A_SW_A
  description    "Connection between CORE A and SW A - South"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link CORE_A_SW_B
  description    "Connection between CORE A and SW B - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link CORE_B_SW_A
  description    "Connection between CORE B and SW A - Crossing"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link CORE_B_SW_B
  description    "Connection between CORE B and SW B - South"
  layer-protocol IPv4
  cidr           31
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       false
  need-vrf       false
 !
 virtual-link CSR_Internal_EC
  description        "Connection between the internal CSRs with the e-channel"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link CSR_Peer
  description    "Connection between the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_Peer_Internal
  description    "Connection between the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           31
  pool-name      internal
  need-vlan      true
  need-contract  false
  need-epg       true
  need-vip       false
  need-vrf       false
  is-vnf-network true
 !
 virtual-link CSR_WAF
  description        "Connection between the upper layer CSR with WAF"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link FW_CSR
  description        "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  cross-dc           false
  is-vnf-network     true
 !
 virtual-link FW_Management
  description    "Management network for upper layer ASA firewall"
  layer-protocol IPv4
  cidr           24
  pool-name      mgmt_fw_upper
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     17
 !
 virtual-link LB_CSR_Internal
  description        "Connection between the internal FW context to the internal CSR vitual devices"
  layer-protocol     IPv4
  cidr               29
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           true
  vip-sequence       5
  need-vrf           true
  is-vnf-network     true
 !
 virtual-link Management
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
  fixed-vlan     20
 !
 virtual-link ManagementSplunk
  description    "Connection between the external FW context to the upper layer CSR vitual devices"
  layer-protocol IPv4
  cidr           24
  pool-name      management
  need-vlan      false
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   254
  need-vrf       false
  reserve-per-ip true
 !
 virtual-link SW_FW
  description    "Connection between the external switch with the upper FW context"
  layer-protocol IPv4
  cidr           29
  pool-name      external
  need-vlan      true
  need-contract  false
  need-epg       false
  need-vip       true
  vip-sequence   5
  need-vrf       true
 !
 virtual-link WAF_HSM
  description        "Connection between WAF and AVI Load Balance"
  layer-protocol     IPv4
  cidr               23
  pool-name          hsm
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  reserve-per-ip     true
  is-vnf-network     false
 !
 virtual-link WAF_LB_A
  description        "Connection between WAF and AVI Load Balance for Side A"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link WAF_LB_B
  description        "Connection between WAF and AVI Load Balance for Side B"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg true
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 virtual-link WAF_Peer
  description        "Connection between WAF A and WAF B"
  layer-protocol     IPv4
  cidr               30
  pool-name          internal
  need-vlan          true
  need-contract      true
  need-epg           true
  need-secondary-epg false
  need-vip           false
  need-vrf           false
  is-vnf-network     true
 !
 dc-mode               Single
 skip-day1-vnfr-config false
 nfd CORE_A
  device-alias core_a
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name CORE_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name CORE_A_SW_B
  !
 !
 nfd CORE_B
  device-alias core_b
  interfaces 0
   role         south
   if-type      TenGigabitEthernet
   name         0/1/1
   ip-sequence  0
   network-name CORE_B_SW_B
  !
  interfaces 1
   role         crossing
   if-type      TenGigabitEthernet
   name         0/1/0
   ip-sequence  0
   network-name CORE_B_SW_A
  !
 !
 nfd FW
  device-alias   PRD-O-FW-EXTRANET-001
  add-new-device true
  device-type    ASA_Context
  interfaces 0
   role                 mgmt
   need-standby-address true
   standby-ip-sequence  -1
   if-type              Ethernet
   name                 1/7
   ip-sequence          -1
   network-name         FW_Management
  !
  interfaces 1
   role                 south
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 1
   ip-sequence          3
   network-name         FW_CSR
  !
  interfaces 3
   role                 north
   need-standby-address true
   standby-ip-sequence  4
   if-type              PortChannel
   name                 2
   ip-sequence          3
   network-name         SW_FW
  !
 !
 nfd SW_A
  device-alias PRD-E-SW-001
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/9
   ip-sequence  1
   network-name CORE_A_SW_A
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/10
   ip-sequence  1
   network-name CORE_B_SW_A
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  1
   network-name SW_FW
  !
 !
 nfd SW_B
  device-alias PRD-E-SW-101
  interfaces 0
   role         north
   if-type      Ethernet
   name         1/10
   ip-sequence  1
   network-name CORE_B_SW_B
  !
  interfaces 1
   role         crossing
   if-type      Ethernet
   name         1/9
   ip-sequence  1
   network-name CORE_A_SW_B
  !
  interfaces 2
   role         south
   if-type      SVI
   name         SVI-VLAN
   ip-sequence  2
   network-name SW_FW
  !
 !
!
